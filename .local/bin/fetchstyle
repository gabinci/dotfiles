#!/bin/bash
# current file path: /home/gabinci/dotfiles/.local/bin/tst
# last change: Thu, 24 Nov 2022 - 13:46:47
# Author: gabinci

FETCH=($HOME/dotfiles/.config/zsh/fetch/*)
BSHELL=$(basename $SHELL)
PS3="Choose a fetch style: "
echo ""
select opt in Quit Random $(basename -a ${FETCH[@]}); do
	for ((i = 0; i < ${#FETCH[@]}; i++)); do
		case $opt in
		$(basename -a ${FETCH[i]}))
			echo ""
			echo "You choose \"$opt\""
			sed -i.backup -r "/#fetch$/s,(~/dotfiles/.config/zsh/)[^ ]*,\1fetch/$opt,g" $HOME/dotfiles/.config/zsh/.zshrc
			echo "You may now Restart $BSHELL"
			exit 0
			;;
		esac
	done
	case $opt in
	"Quit")
		echo ""
		echo "Quitting..."
		exit 0
		;;
	"Random")
		echo ""
		echo "You choose \"Random\""
		sed -i.backup -r "/#fetch$/s,(~/dotfiles/.config/zsh/)[^ ]*,\1randomfetch,g" $HOME/dotfiles/.config/zsh/.zshrc
		echo "You may now Restart $BSHELL)"
		exit 0
		;;
	*)
		echo ""
		echo "Invalid Input. Exiting without changes..."
		exit 0
		;;
	esac
done
exit 0
